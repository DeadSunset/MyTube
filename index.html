<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>MyTube Offline</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app">
      <header class="topbar">
        <a class="logo" id="logoLink" href="index.html">MyTube</a>
        <div class="search">
          <input id="searchInput" type="search" placeholder="–ü–æ–∏—Å–∫ –≤–∏–¥–µ–æ..." />
        </div>
        <button id="addFolderBtn" class="btn">–î–æ–±–∞–≤–∏—Ç—å –æ–±—â—É—é –ø–∞–ø–∫—É</button>
        <input id="folderInput" type="file" webkitdirectory multiple hidden />
        <button id="editLibraryBtn" class="btn">–î–æ–±–∞–≤–∏—Ç—å –ö–∞–Ω–∞–ª</button>
        <button id="profileBtn" class="btn profile-btn" aria-label="–ü—Ä–æ—Ñ–∏–ª—å">üë§</button>
      </header>

      <main class="main">
        <aside class="sidebar">
          <div class="sidebar-header">
            <button id="shortsTab" class="shorts-button">–®–æ—Ä—Ç—Å—ã</button>
            <button id="historyTab" class="shorts-button history-button">–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–µ</button>
            <button id="libraryToggle" class="sidebar-toggle">
              –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ <span class="chevron">‚ñæ</span>
            </button>
          </div>
          <ul id="folderList" class="folder-list"></ul>
          <div id="importStatus" class="import-status hidden">
            <span id="importLabel" class="import-label muted">–ò–º–ø–æ—Ä—Ç: 0 / 0</span>
            <div class="import-bar">
              <div id="importBarFill" class="import-bar-fill" style="width: 0%"></div>
            </div>
          </div>
        </aside>

        <section class="content">
          <div id="libraryView" class="view active">
            <div class="section-header">
              <div>
                <h2>–í—Å–µ –≤–∏–¥–µ–æ</h2>
                <span id="videoCount" class="muted"></span>
              </div>
              <div class="filters">
                <div class="filter-group">
                  <button class="filter-btn active" data-type="regular">–û–±—ã—á–Ω—ã–µ</button>
                  <button class="filter-btn" data-type="shorts">–®–æ—Ä—Ç—Å—ã</button>
                </div>
                <label class="filter-label">
                  –î–∞—Ç–∞
                  <select id="dateSort">
                    <option value="none">–ë–µ–∑ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏</option>
                    <option value="newest">–°–Ω–∞—á–∞–ª–∞ –Ω–æ–≤—ã–µ</option>
                    <option value="oldest">–°–Ω–∞—á–∞–ª–∞ —Å—Ç–∞—Ä—ã–µ</option>
                  </select>
                </label>
                <label class="filter-label">
                  –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–º–∏–Ω)
                  <div class="duration-filter">
                    <input id="durationMin" type="number" min="0" placeholder="–æ—Ç" />
                    <input id="durationMax" type="number" min="0" placeholder="–¥–æ" />
                  </div>
                </label>
              </div>
            </div>
            <div id="folderParseTools" class="folder-parse-tools hidden">
              <span id="folderParseTitle" class="muted"></span>
              <input id="channelUrlInput" type="url" placeholder="URL YouTube-–∫–∞–Ω–∞–ª–∞ –¥–ª—è —Ç–µ–∫—É—â–µ–π –ø–∞–ø–∫–∏" />
              <div class="folder-parse-actions">
                <button id="autoParseFirst20Btn" class="btn">–û–±–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–≤—ã–µ 20 –∏–∑ –ø–∞–ø–∫–∏</button>
                <button id="autoParseLibraryBtn" class="btn">–ê–≤—Ç–æ–ø–∞—Ä—Å–∏—Ç—å —Ç–µ–∫—É—â—É—é –ø–∞–ø–∫—É</button>
              </div>
            </div>
            <div id="videoGrid" class="video-grid"></div>
          </div>

          <div id="watchView" class="view">
            <div class="watch-layout">
              <div class="watch-main">
                <div class="player-shell">
                  <video id="videoPlayer" controls></video>
                </div>
                <div class="watch-meta">
                  <h1 id="watchTitle"></h1>
                  <div class="watch-actions">
                    <button id="likeBtn" class="btn">üëç <span id="likeCount">0</span></button>
                    <button id="dislikeBtn" class="btn">üëé <span id="dislikeCount">0</span></button>
                    <span id="progressLabel" class="muted"></span>
                  </div>
                </div>
                <section class="import-tools">
                  <h3>–ò–º–ø–æ—Ä—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–µ–≤—å—é</h3>
                  <p class="muted">–†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ YouTube API Key. –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø—Ä–æ—Å–º–æ—Ç—Ä—ã, –ª–∞–π–∫–∏, –¥–æ 50 –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∏ –¥–æ 10 –æ—Ç–≤–µ—Ç–æ–≤ –∫ –∫–∞–∂–¥–æ–º—É (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã).</p>
                  <div class="import-actions">
                    <button id="importHtmlBtn" class="btn">–û–±—â–∏–π –ø–∞—Ä—Å–∏–Ω–≥ HTML</button>
                    <input id="importHtmlInput" type="file" accept=".html,text/html" hidden />
                    <button id="importPdfBtn" class="btn">–ü–∞—Ä—Å–∏–Ω–≥ –∏–∑ PDF</button>
                    <input id="importPdfInput" type="file" accept="application/pdf,.pdf" hidden />
                    <input id="importUrlInput" type="url" placeholder="https://www.youtube.com/watch?v=..." />
                    <button id="importUrlBtn" class="btn">–û–±—â–∏–π –ø–∞—Ä—Å–∏–Ω–≥ URL</button>
                  </div>
                  <div class="video-stats-grid">
                    <span><b>–ü—Ä–æ—Å–º–æ—Ç—Ä—ã:</b> <span id="watchViews">‚Äî</span></span>
                    <span><b>–õ–∞–π–∫–∏ (–∏–º–ø–æ—Ä—Ç):</b> <span id="watchLikesImported">‚Äî</span></span>
                    <span><b>–î–∏–∑–ª–∞–π–∫–∏ (–∏–º–ø–æ—Ä—Ç):</b> <span id="watchDislikesImported">‚Äî</span></span>
                    <span><b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:</b> <span id="watchCommentsImported">‚Äî</span></span>
                    <span><b>–ò—Å—Ç–æ—á–Ω–∏–∫:</b> <span id="watchImportSource">–õ–æ–∫–∞–ª—å–Ω–æ</span></span>
                  </div>
                  <div class="thumbnail-actions">
                    <button id="changeThumbnailBtn" class="btn">–ò–∑–º–µ–Ω–∏—Ç—å –ø—Ä–µ–≤—å—é</button>
                    <button id="resetThumbnailBtn" class="btn">–°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–µ–≤—å—é</button>
                    <input id="thumbnailInput" type="file" accept="image/*" hidden />
                  </div>
                </section>
                <div class="notes">
                  <h3>–ó–∞–º–µ—Ç–∫–∏ / –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</h3>
                  <div id="commentList" class="comment-list"></div>
                  <div class="comment-form">
                    <textarea id="commentInput" rows="3" placeholder="–í–∞—à–∏ –∑–∞–º–µ—Ç–∫–∏..."></textarea>
                    <div class="notes-actions">
                      <button id="saveCommentBtn" class="btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                    </div>
                  </div>
                </div>
              </div>
              <aside class="watch-sidebar">
                <h3>–ü–æ—Ö–æ–∂–∏–µ –≤–∏–¥–µ–æ</h3>
                <div id="recommendations" class="recommendations"></div>
              </aside>
            </div>
          </div>

          <div id="shortsView" class="view">
            <div class="shorts-layout">
              <div class="shorts-player" id="shortsPlayerWrap">
                <video id="shortsPlayer" playsinline></video>
                <div class="shorts-controls">
                  <button id="shortsPrevBtn" class="btn">‚ñ≤</button>
                  <button id="shortsPlayBtn" class="btn">‚èØ</button>
                  <button id="shortsNextBtn" class="btn">‚ñº</button>
                </div>
              </div>
              <div class="shorts-meta">
                <h2 id="shortsTitle"></h2>
                <p id="shortsChannel" class="muted"></p>
                <p id="shortsStatus" class="muted"></p>
                <div class="shorts-actions">
                  <button id="shortsLikeBtn" class="btn">üëç <span id="shortsLikeCount">0</span></button>
                  <button id="shortsDislikeBtn" class="btn">üëé <span id="shortsDislikeCount">0</span></button>
                </div>
                <div class="shorts-history">
                  <button id="shortsHistoryBtn" class="btn">–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–µ</button>
                  <ul id="shortsHistoryList" class="shorts-history-list hidden"></ul>
                </div>
                <div class="shorts-comment">
                  <textarea id="shortsCommentInput" rows="3" placeholder="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π..."></textarea>
                  <button id="shortsCommentBtn" class="btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                </div>
              </div>
            </div>
          </div>

          <div id="profileView" class="view">
            <div class="profile-panel">
              <h2>–ü—Ä–æ—Ñ–∏–ª—å</h2>
              <p class="muted">–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –±–µ–∫–∞–ø –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏–ª–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –µ–≥–æ –ø–æ–∑–∂–µ.</p>
              <div class="profile-actions">
                <button id="exportBackupBtn" class="btn">–°–æ–∑–¥–∞—Ç—å –±–µ–∫–∞–ø</button>
                <label class="btn" for="importBackupInput">–ò–º–ø–æ—Ä—Ç –±–µ–∫–∞–ø–∞</label>
                <input id="importBackupInput" type="file" accept="application/json" hidden />
              </div>
              <div class="profile-actions profile-import-actions">
                <button id="exportPendingListBtn" class="btn">–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –≤–∏–¥–µ–æ –±–µ–∑ –ø—Ä–µ–≤—å—é/–∫–æ–º–º–µ–Ω—Ç–æ–≤</button>
                                <label class="btn" for="importVideoDataInput">–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ</label>
                <input id="importVideoDataInput" type="file" accept="application/json" hidden />
                <button id="autoAddTreeBtn" class="btn">–ê–≤—Ç–æ–¥–æ–±–∞–≤–∏—Ç—å –ø–∞–ø–∫—É (–∫–∞–Ω–∞–ª—ã/–ø–ª–µ–π–ª–∏—Å—Ç—ã)</button>
                <input id="autoAddTreeInput" type="file" webkitdirectory multiple hidden />
                <button id="openUrlFillerBtn" class="btn">–ó–∞–ø–æ–ª–Ω—è—Ç–µ–ª—å URL</button>
              </div>
              <div class="profile-api-config">
                <label for="youtubeApiKeyInput" class="muted">YouTube API Key (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –∫–ª—é—á –∏–º–µ–Ω–Ω–æ –¥–ª—è YouTube Data API v3)</label>
                <input id="youtubeApiKeyInput" type="password" placeholder="AIza..." />
              </div>
            </div>
          </div>

          <div id="urlFillerView" class="view">
            <div class="url-filler-panel">
              <div class="url-filler-head">
                <h2>–ó–∞–ø–æ–ª–Ω—è—Ç–µ–ª—å URL</h2>
                <button id="urlFillerBackBtn" class="btn">–ù–∞–∑–∞–¥ –≤ –ø—Ä–æ—Ñ–∏–ª—å</button>
              </div>
              <p class="muted">–í–∏–¥–µ–æ —Ñ–∞–π–ª –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è. –í—Å—Ç–∞–≤—å—Ç–µ URL –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ HTML –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –≤–∏–¥–µ–æ –∏–∑ –æ–±—â–µ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞.</p>

              <div class="url-filler-card">
                <p class="muted" id="urlFillerProgress">‚Äî</p>
                <h3 id="urlFillerVideoTitle">‚Äî</h3>
                <p id="urlFillerChannelName" class="muted">‚Äî</p>
              </div>

              <div class="url-filler-actions">
                <input id="urlFillerUrlInput" type="url" placeholder="https://www.youtube.com/watch?v=..." />
                <button id="urlFillerImportUrlBtn" class="btn">–û–±—Ä–∞–±–æ—Ç–∞—Ç—å URL</button>
              </div>

              <div class="url-filler-actions">
                <button id="urlFillerImportHtmlBtn" class="btn">–û–±—Ä–∞–±–æ—Ç–∞—Ç—å HTML</button>
                <input id="urlFillerHtmlInput" type="file" accept=".html,text/html" hidden />
                <button id="urlFillerSkipBtn" class="btn">–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å</button>
              </div>
            </div>
          </div>
        </section>
      </main>
    </div>

    <template id="videoCardTemplate">
      <article class="video-card">
        <div class="thumbnail">
          <span class="watched-indicator" aria-label="–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ">‚è∞</span>
          <span class="duration"></span>
        </div>
        <div class="progress-bar">
          <div class="progress-fill"></div>
        </div>
        <div class="video-info">
          <h4 class="title"></h4>
          <p class="meta muted"></p>
          <button class="delete-btn btn">–£–¥–∞–ª–∏—Ç—å</button>
        </div>
      </article>
    </template>

    <template id="recommendationTemplate">
      <button class="recommendation">
        <div>
          <h4 class="title"></h4>
          <p class="meta muted"></p>
        </div>
      </button>
    </template>

    <script src="app.js"></script>
  </body>
</html>
