# Локальный парсер YouTube для MyTube (быстрый старт)

Если у вас много видео и нужен максимум автоматизации импорта по URL, используйте готовый локальный парсер из этого репозитория.

## 1) Запуск

```bash
node tools/local-youtube-parser.js
```

По умолчанию поднимется адрес:
- `http://127.0.0.1:8787/health`
- `http://127.0.0.1:8787/youtube?url=...`

## 2) Подключение к MyTube

1. Откройте **Профиль**.
2. В поле **«Локальный URL парсера»** вставьте:
   - `http://127.0.0.1:8787/youtube`
3. Нажмите импорт по URL в карточке видео.

## 3) Что парсер возвращает

JSON формата:

```json
{
  "sourceVideoId": "...",
  "title": "...",
  "channelName": "...",
  "thumbnail": "...",
  "stats": {
    "views": 123,
    "likes": null,
    "dislikes": null,
    "comments": 10
  },
  "comments": [
    {
      "id": "...",
      "author": "...",
      "text": "...",
      "likes": 42,
      "dislikes": 0,
      "replyCount": 2,
      "replies": [
        { "id": "...", "author": "...", "text": "..." }
      ],
      "order": 0
    }
  ]
}
```

## 4) Важно

- Это **локальный** сервер (на вашем ПК), не публичный.
- Работает лучше всего для массового URL-импорта без ручного сохранения HTML.
- YouTube может менять структуру страниц. Если часть полей пропадет, обновите парсер.

## 5) Переменные окружения (опционально)

- `MYTUBE_PARSER_HOST` (по умолчанию `127.0.0.1`)
- `MYTUBE_PARSER_PORT` (по умолчанию `8787`)

Пример:

```bash
MYTUBE_PARSER_PORT=8899 node tools/local-youtube-parser.js
```
